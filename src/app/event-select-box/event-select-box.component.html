<div class="eventBox">
  <div class="eventHeader">
    <h3>
      <span class="stepNumber blueText">{{ counter }} . STEP:&nbsp;</span
      ><span class="eventName">{{ selectedEvent }}</span>
    </h3>
    <div class="eventButtons">
      <button class="iconBtn" (click)="removeFunnelStep(event.id)">
        <img src="assets/img/trash.svg" />
      </button>
      <button class="iconBtn" (click)="cloneFunnelStep(event)">
        <img src="assets/img/copy.svg" />
      </button>
    </div>
  </div>
  <div class="inputBox">
    <div class="eventWrapper">
      <button class="borderBtn eventTrigger" (click)="toggleSelectBox()">
        {{ selectedEvent }}
      </button>
      <ng-select
        class="event"
        isOpen="true"
        *ngIf="opened"
        [items]="eventsList"
        bindLabel="eventsList"
        autofocus
        bindValue="eventsList"
        (search)="foo($event)"
        (change)="setEvent(selectedEvent)"
        [(ngModel)]="selectedEvent"
      >
      </ng-select>
    </div>
    <div class="attributeWrapper">
      <div *ngFor="let eventAttribute of event.attributes">
        <app-attribute [attribute]="eventAttribute" [event]="event"></app-attribute>
        <button class="iconBtn" (click)="removeAttribute(eventAttribute.id)">
          <img src="assets/img/delete.svg" />
        </button>
      </div>

      <button class="blueBtn addAttr" (click)="createEmptyAttribute()">
        {{ !event.attributes.length ? '+ Add attribute' : 'Refine more' }}
      </button>
    </div>
  </div>
</div>
